# BTC Swing Trading Strategy Parameters
# Quantitative Multi-Timeframe Backtester Configuration

# =============================================================================
# GENERAL SETTINGS
# =============================================================================
general:
  symbol: "BTCUSDT"
  start_date: "2025-01-01"
  end_date: "2025-12-31"
  initial_capital: 10000
  leverage: 10

# =============================================================================
# TIMEFRAMES
# =============================================================================
timeframes:
  primary: "15m"      # LTF - entry trigger
  higher: "1h"        # HTF - trend filter
  daily: "1d"         # For Order Block detection

# =============================================================================
# STRUCTURE DETECTION
# =============================================================================
structure:
  # Higher Timeframe (1H)
  htf_lookback: 5                  # bars for swing detection
  htf_threshold: 0.005             # 0.5% minimum move for HH/HL/LH/LL
  htf_consecutive_required: 3      # consecutive HH/HL or LH/LL required

  # Lower Timeframe (15min)
  ltf_lookback: 5
  ltf_threshold: 0.003             # 0.3% minimum move
  ltf_consecutive_required: 3

# =============================================================================
# MACD SETTINGS
# =============================================================================
macd:
  fast_period: 12
  slow_period: 26
  signal_period: 9
  histogram_sequence_min: 4        # minimum consecutive bars
  histogram_sequence_max: 6        # maximum for divergence check
  magnitude_change_threshold: 0.20 # 20% bar-to-bar change
  divergence_threshold: 0.10       # 10% price vs MACD difference
  price_drawdown_max: 0.01         # 1% max price move during histogram sequence

# =============================================================================
# ORDER BLOCKS (Simplified)
# =============================================================================
order_blocks:
  consolidation_bars: 5            # minimum bars for consolidation
  range_threshold: 0.02            # range < 2% of ATR
  breakout_threshold: 0.03         # > 3% move to confirm breakout
  buffer: 0.005                    # 0.5% buffer around OB midpoint
  max_age_bars: 50                 # remove untested OB after N bars

# =============================================================================
# ENTRY TRIGGERS
# =============================================================================
entry:
  pullback_min: 0.20               # 20% retracement minimum
  pullback_max: 0.50               # 50% retracement maximum
  macd_above_zero_bars: 3          # bars MACD must be > 0 (or < 0 for shorts)
  volume_confirmation: 1.5         # entry volume > 1.5x average

# =============================================================================
# RISK MANAGEMENT
# =============================================================================
risk:
  risk_per_trade: 0.02             # 2% of account per trade
  sl_buffer: 0.005                 # 0.5% buffer on stop loss
  htf_swing_lookback: 20           # bars to look back for TP target

# =============================================================================
# TRADING FEES
# =============================================================================
fees:
  commission: 0.0004               # 0.04% taker fee
  slippage: 0.0005                 # 0.05% slippage

# =============================================================================
# FILTERS
# =============================================================================
filters:
  invalidation_cooldown: 10        # bars after structure break
  atr_period: 14
  high_volatility_multiplier: 2.0  # skip if ATR > 2x average
  volume_ma_period: 20

# =============================================================================
# DATA PATHS
# =============================================================================
paths:
  raw_data: "data/raw"
  processed_data: "data/processed"
  reports: "reports"
  templates: "templates"
